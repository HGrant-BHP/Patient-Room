<!-- Hidden element to store userId for client-side access -->
<span id="userId" style="display: none;">{{userId}}</span>

<div class="min-h-screen bg-[#0A0F1E] relative overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-br from-[#0A0F1E] via-transparent to-[#1A1F2E] opacity-80"></div>
    <div class="relative z-10">
        <div class="container mx-auto px-8 py-6 max-w-[1400px]">
            <a href="/user/{{userId}}" class="back-button mb-6 inline-block">
                <i class="fas fa-arrow-left"></i>
                <span class="back-text" data-i18n="backToDashboard">Back to Dashboard</span>
            </a>

            <div class="knowledge-hub-container">
                <div class="flex items-center justify-between mb-8">
                    <h1 class="text-4xl font-light text-white">Knowledge Hub</h1>
                    <div class="view-toggle">
                        <button id="grid-view" class="active"><i class="fas fa-th-large"></i></button>
                        <button id="list-view"><i class="fas fa-list"></i></button>
                    </div>
                </div>

                <div class="search-section mb-8">
                    <input type="text" id="video-search" class="search-input w-full bg-[#1A1F2E] text-white px-4 py-3 rounded-lg" placeholder="Search videos...">
                </div>

                <div class="main-content">
                    <div id="videos-container" class="grid-view grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        {{#each videos}}
                        <div class="video-card bg-[#1A1F2E] rounded-lg overflow-hidden shadow-lg" data-id="{{this.id}}">
                            <div class="thumbnail relative">
                                <img src="{{this.thumbnail}}" alt="{{this.title}}" class="w-full h-48 object-cover">
                                <span class="duration absolute bottom-2 right-2 bg-black bg-opacity-75 text-white px-2 py-1 rounded text-sm">{{this.duration}}</span>
                            </div>
                            <div class="video-info p-4">
                                <h3 class="text-white text-lg mb-2">{{this.title}}</h3>
                                <p class="text-gray-400 text-sm">{{this.description}}</p>
                            </div>
                        </div>
                        {{/each}}
                    </div>
                </div>

                <div class="recommended-section mt-12">
                    <h2 class="text-2xl font-light text-white mb-6">Recommended Videos</h2>
                    <div class="recommended-videos grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        {{#each recommendedVideos}}
                        <div class="video-card recommended bg-[#1A1F2E] rounded-lg overflow-hidden shadow-lg" data-id="{{this.id}}">
                            <div class="thumbnail relative">
                                <img src="{{this.thumbnail}}" alt="{{this.title}}" class="w-full h-48 object-cover">
                                <span class="duration absolute bottom-2 right-2 bg-black bg-opacity-75 text-white px-2 py-1 rounded text-sm">{{this.duration}}</span>
                            </div>
                            <div class="video-info p-4">
                                <h3 class="text-white text-lg mb-2">{{this.title}}</h3>
                                <p class="text-gray-400 text-sm">{{this.description}}</p>
                            </div>
                        </div>
                        {{/each}}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.body.dataset.userId = "{{userId}}";
</script>
<script src="/js/knowledge-hub.js"></script> 